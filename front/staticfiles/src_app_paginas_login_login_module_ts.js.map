{"version":3,"sources":["./src/app/paginas/login/login-routing.module.ts","./src/app/paginas/login/login.module.ts","./src/app/paginas/login/login.page.ts","./src/app/paginas/login/login.page.scss","./src/app/paginas/login/login.page.html"],"names":[],"mappings":"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","file":"src_app_paginas_login_login_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule,    \r\n    ReactiveFormsModule  \r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { NotificacionesService } from 'src/app/services/notificaciones.service';\r\nimport { User } from 'src/app/shared/user.interface';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n  \r\n  passwordTypeInput  =  'password';\r\n  \r\n  user$: Observable<User>= this.authSvc.afAuth.user;\r\n  constructor(\r\n    \r\n    private router:Router,    \r\n    private authSvc: AuthService,\r\n    private notificaciones:NotificacionesService,\r\n    \r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\ntry {  \r\n  this.user$.subscribe(x=>{\r\n    if(x.uid)\r\n    this.router.navigate(['/search-waterboard']);      \r\n  });\r\n} catch (error) {\r\n  \r\n}\r\n  }\r\n  async login(param){        \r\n    // const user = await this.authSvc.login(this.loginInfo.correo,this.loginInfo.contrasenia);\r\n    const user = await this.authSvc.login(param.value.email,param.value.password);\r\n    \r\n    if (user) {//TENER CUIDADO CON ESTO \r\n      this.redirectUser(this.authSvc.isEmailVerified(user));                \r\n    }else{\r\n      this.notificaciones.notificacionToasError(\"Error en credenciales o cuenta no verificada\");\r\n    }\r\n    \r\n  }  \r\n  \r\n    \r\n// async onLoginGoogle() {\r\n//     try {\r\n//       const user = await this.authSvc.loginGoogle();\r\n//       if (user) {\r\n//         const isVerified = this.authSvc.isEmailVerified(user);\r\n        \r\n        \r\n       \r\n//       }\r\n//     } catch (error) {\r\n//       console.log('Error->', error);\r\n//     }\r\n//   }\r\n\r\n  // async  redireccionar (isVerified: boolean,user:any){        \r\n  //   const configApp= await this.configAppServ.getConfigById(user.uid);\r\n    \r\n  //   let params: NavigationExtras={\r\n  //     queryParams:{\r\n  //       infUser: this.loginInfo,\r\n  //       userL: user,\r\n  //       configParam:configApp\r\n  //     }\r\n  //   }\r\n  //   if(isVerified){\r\n  //     console.log(\"VErificado\")\r\n  //     this.router.navigate([\"/view-user\"],params);\r\n  //   }else{\r\n  //     this.notificationsServ.notificacionToast(\"Porfavor verifique su cuenta\");\r\n  //   }\r\n  // }\r\n\r\n  private redirectUser(isVerified: boolean): void {\r\n    if (isVerified) {\r\n      this.router.navigate(['/search-waterboard']);  \r\n    } else {\r\n      this.router.navigate(['/msj-confirm']);\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  \r\n\r\n}\r\n","export default \".mat-icon {\\n  background-repeat: no-repeat;\\n  display: inline-block;\\n  fill: currentColor;\\n  height: 27px;\\n  width: 27px;\\n  padding-top: 16px;\\n}\\n\\n.centrar {\\n  text-align: center;\\n  font-size: large;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDRCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0VBQ0EsZ0JBQUE7QUFDSiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWljb24ge1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIGZpbGw6IGN1cnJlbnRDb2xvcjtcclxuICAgIGhlaWdodDogMjdweDtcclxuICAgIHdpZHRoOiAyN3B4O1xyXG4gICAgcGFkZGluZy10b3A6IDE2cHg7XHJcbn1cclxuXHJcbi5jZW50cmFyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbn0iXX0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-menu-button></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Inicio de Sesión</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <ion-card>\\r\\n        <div *ngIf=\\\"user$ | async as user; else alternativo\\\">\\r\\n            <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"login(form)\\\">\\r\\n                <ion-grid>\\r\\n                    <ion-row color=\\\"primary\\\" justify-content-center>\\r\\n                        <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\r\\n\\r\\n                            <h3>Ingrese sus credenciales</h3>\\r\\n                            <div padding>\\r\\n                                <ion-item>\\r\\n                                    <ion-input name=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"Correo Electrónico\\\" ngModel={{user.email}} ngModel required></ion-input>\\r\\n                                </ion-item>\\r\\n                                <ion-item>\\r\\n                                    <ion-input name=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Contraseña\\\" ngModel required></ion-input>\\r\\n                                </ion-item>\\r\\n                            </div>\\r\\n                            <div padding>\\r\\n                                <ion-button size=\\\"large\\\" type=\\\"submit\\\" [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\">Iniciar Sesión</ion-button>\\r\\n                            </div>\\r\\n                        </ion-col>\\r\\n                    </ion-row>\\r\\n                </ion-grid>\\r\\n            </form>\\r\\n        </div>\\r\\n        <div class=\\\"centrar\\\">\\r\\n            <ng-template #alternativo>\\r\\n                <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"login(form)\\\">\\r\\n                    <ion-grid>\\r\\n                        <ion-row color=\\\"primary\\\" justify-content-center>\\r\\n                            <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\r\\n                                <div class=\\\"centrar\\\">\\r\\n                                    <h3>Ingrese sus credenciales</h3>\\r\\n                                </div>\\r\\n                                <div padding>\\r\\n                                    <ion-item lines=\\\"none\\\">\\r\\n                                        <ion-label position=\\\"stacked\\\">Correo Electrónico</ion-label>\\r\\n                                        <ion-input name=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"Correo Electrónico\\\" ngModel required></ion-input>\\r\\n                                    </ion-item>\\r\\n                                    <ion-item lines='none'>\\r\\n                                        <ion-label position=\\\"stacked\\\">Contraseña</ion-label>\\r\\n                                        <ion-input name=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Contraseña\\\" ngModel required></ion-input>\\r\\n                                    </ion-item>\\r\\n                                </div>\\r\\n                                <div padding>\\r\\n                                    <ion-button size=\\\"medium\\\" type=\\\"submit\\\" [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\">Iniciar Sesión</ion-button>\\r\\n                                </div>\\r\\n                            </ion-col>\\r\\n                        </ion-row>\\r\\n                    </ion-grid>\\r\\n                </form>\\r\\n            </ng-template>\\r\\n        </div>\\r\\n    </ion-card>\\r\\n    <div class=\\\"centrar\\\">\\r\\n        <p><a routerLink=\\\"/registro\\\">Si no tienes una Cuenta puedes registrarte </a></p>\\r\\n        <p><a routerLink=\\\"/recuperar-contrasenia\\\">Olvidaste tu contraseña</a></p>\\r\\n    </div>\\r\\n</ion-content>\";"],"sourceRoot":"webpack:///"}